<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of findLineIntersection</title>
  <meta name="keywords" content="findLineIntersection">
  <meta name="description" content="findLineIntersection returns the coordinates of the intersection of two lines.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">src</a> &gt; findLineIntersection.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for src&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>findLineIntersection
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>findLineIntersection returns the coordinates of the intersection of two lines.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function [ intersx, intersy ] = findLineIntersection( start1, end1, start2, end2 ) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment">findLineIntersection returns the coordinates of the intersection of two lines.

%--------------------------------------------------------------------------------------------------  
   @desc Computes the intersection between tho lines defined by its initial and final
   coordinates

   Supports the use of UTM coordinates or any other cartesian system. In order to use UTM
   coordinates, it is asumed that both lines lay in the same UTM Zone and Band
 
%--------------------------------------------------------------------------------------------------   
   The inputs for this function are:

   - @iparam [float] start1: vector storing the initial coordinates of the first line {m}
   - @iparam [float] end1: vector storing the final coordinates of the first line {m}
   - @iparam [float] start2: vector storing the initial coordinates of the second line {m}
   - @iparam [float] end2: vector storing the final coordinates of the second line {m}

%-------------------------------------------------------------------------------------------------- 
   The otputs for this function are:

   - @oparam [float] intersx: Easting or longitude coordinate of the intersection {m}   
   - @oparam [float] intersx: Northing or latitude coordinate of the intersection {m}

%-------------------------------------------------------------------------------------------------- 
   ** @author Andrés Ferreiro González (@aferreiro)
   ** @company Galician Research And Development Center In Advanced Telecommunications (GRADIANT)
   ** @date 20/02/2017
   ** @vrsion 1.2
%--------------------------------------------------------------------------------------------------
%%-------------------------------------------------------------------------------------------------</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="computeGrid.html" class="code" title="function [ Grid, flag, varargout ] = computeGrid( polygon, photoParams, StartPos, cryteria )">computeGrid</a>	computeGrid computes the grid required to cover the specified polygon.</li><li><a href="findLineIntersectionTest.html" class="code" title="">findLineIntersectionTest</a>	@desc This script is used as an unitary test for the function findLineIntersection,</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [ intersx, intersy ] = findLineIntersection( start1, end1, start2, end2 )</a>
0002 <span class="comment">%findLineIntersection returns the coordinates of the intersection of two lines.</span>
0003 <span class="comment">%</span>
0004 <span class="comment">%%--------------------------------------------------------------------------------------------------</span>
0005 <span class="comment">%   @desc Computes the intersection between tho lines defined by its initial and final</span>
0006 <span class="comment">%   coordinates</span>
0007 <span class="comment">%</span>
0008 <span class="comment">%   Supports the use of UTM coordinates or any other cartesian system. In order to use UTM</span>
0009 <span class="comment">%   coordinates, it is asumed that both lines lay in the same UTM Zone and Band</span>
0010 <span class="comment">%</span>
0011 <span class="comment">%%--------------------------------------------------------------------------------------------------</span>
0012 <span class="comment">%   The inputs for this function are:</span>
0013 <span class="comment">%</span>
0014 <span class="comment">%   - @iparam [float] start1: vector storing the initial coordinates of the first line {m}</span>
0015 <span class="comment">%   - @iparam [float] end1: vector storing the final coordinates of the first line {m}</span>
0016 <span class="comment">%   - @iparam [float] start2: vector storing the initial coordinates of the second line {m}</span>
0017 <span class="comment">%   - @iparam [float] end2: vector storing the final coordinates of the second line {m}</span>
0018 <span class="comment">%</span>
0019 <span class="comment">%%--------------------------------------------------------------------------------------------------</span>
0020 <span class="comment">%   The otputs for this function are:</span>
0021 <span class="comment">%</span>
0022 <span class="comment">%   - @oparam [float] intersx: Easting or longitude coordinate of the intersection {m}</span>
0023 <span class="comment">%   - @oparam [float] intersx: Northing or latitude coordinate of the intersection {m}</span>
0024 <span class="comment">%</span>
0025 <span class="comment">%%--------------------------------------------------------------------------------------------------</span>
0026 <span class="comment">%   ** @author Andrés Ferreiro González (@aferreiro)</span>
0027 <span class="comment">%   ** @company Galician Research And Development Center In Advanced Telecommunications (GRADIANT)</span>
0028 <span class="comment">%   ** @date 20/02/2017</span>
0029 <span class="comment">%   ** @vrsion 1.2</span>
0030 <span class="comment">%%--------------------------------------------------------------------------------------------------</span>
0031 <span class="comment">%%%-------------------------------------------------------------------------------------------------</span>
0032 
0033 <span class="keyword">if</span> nargin &lt; 4
0034   
0035     error(<span class="string">'Not enough input arguments. Type &quot;help findLineIntersection&quot; in the command prompt to get more info about function usage'</span>);
0036     
0037 <span class="keyword">elseif</span> nargin &gt; 4
0038     
0039     error(<span class="string">'Too many input arguments. Type &quot;help findLineIntersection&quot; in the command prompt for more info about function usage.'</span>);
0040 <span class="keyword">end</span>
0041 
0042 
0043 denom = ( ( end1(1) - start1(1) )*( end2(2) - start2(2) ) ) - ( ( end1(2) - start1(2) )*( end2(1) - start2(1) ) );
0044 
0045 <span class="comment">% There's no intersections at all</span>
0046 <span class="keyword">if</span> denom == 0
0047     
0048     intersx = NaN;
0049     intersy = NaN;
0050 <span class="keyword">else</span>
0051    
0052     numer = ( ( (start1(2) - start2(2) )*( end2(1) - start2(1) ) ) - ( ( start1(1) - start2(1) ) )*( end2(2) - start2(2) ) );
0053     
0054     r = numer / denom;
0055     
0056     numer2 = ( ( start1(2) - start2(2) )*( end1(1) - start1(1) ) ) - ( ( start1(1) - start2(1) )*( end1(2) - start1(2) ) );
0057     
0058     s = numer2 / denom;
0059 
0060     <span class="keyword">if</span> ((r &lt; 0 || r &gt; 1) || (s &lt; 0 || s &gt; 1))
0061        
0062         intersx = NaN;
0063         intersy = NaN;
0064         
0065     <span class="keyword">else</span>
0066         
0067         <span class="comment">% Find intersection point</span>
0068         intersx = start1(1) + ( r*( end1(1) - start1(1) ) );
0069         intersy = start1(2) + ( r*( end1(2) - start1(2) ) );
0070         
0071     <span class="keyword">end</span>
0072 <span class="keyword">end</span>
0073 <span class="keyword">end</span>
0074</pre></div>
<hr><address>Generated on Sat 25-Mar-2017 19:17:00 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>